~"package"v( @animation ~"import"h( @style-functions~) ~"import"h( @util-functions~) ~"bind"h( @top-mask-nex-by &" n amount"v( ~"use"h( @style~) ~"let"h( @nexheight ~"get-pixel-height"h( @n~)~) ~"let"h( @nexwidth ~"get-pixel-width"h( @n~)~) ~"let"h( @maskheight ~"*"h( @amount @nexheight~)~) ~"let"h( @mask ~"with-background-color-of"v( ~"with-height-of"v( ~"with-width-of"h( () @nexwidth~) @maskheight~) $"#ffffff"~)~) ~"cons"h( @n ~"cons"h( @mask ~"make-zlist"h(~)~)~)&)~) ~"bind"h( @bottom-mask-nex-by &" n amount"v( ~"use"h( @style~) ~"let"h( @nexheight ~"get-pixel-height"h( @n~)~) ~"let"h( @nexwidth ~"get-pixel-width"h( @n~)~) ~"let"h( @maskheight ~"*"h( @amount @nexheight~)~) ~"let"h( @mask ~"with-y-offset-of"v( ~"with-background-color-of"v( ~"with-height-of"v( ~"with-width-of"h( () @nexwidth~) @maskheight~) $"#ffffff"~) ~"-"h( @nexheight @maskheight~)~)~) ~"cons"h( @n ~"cons"h( @mask ~"make-zlist"h(~)~)~)&)~) ~"bind"h( @do-on-every &" f nex interval"v( ~"let"h( @exp ~"ff-with"h( ~"cons"h( @nex *(*)~) &" n"v( ~"set-delay"h( @exp @interval~) ~"f"h( @n~)&)~)~) ~"set-delay"h( @exp @interval~)&)~) ~"bind"h( @do-on-every-for &" f nex interval iterations"v( ~"let"h( @its #1~) ~"let"h( @exp ~"ff-with"h( ~"cons"h( @nex *(*)~) &" n"v( ~"if"v( ~"<"h( @its @iterations~) ~"begin"v( ~"set"h( @its ~"+"h( @its #1~)~) ~"set-delay"h( @exp @interval~)~) ^~) ~"f"h( @n~)&)~)~) ~"set-delay"h( @exp @interval~)&)~) ~"bind"h( @do-with-param-on-every &" f nex interval"v( ~"let"h( @p #0~) ~"let"h( @exp ~"ff-with"h( ~"cons"h( @nex *(*)~) &" n"v( ~"set-delay"h( @exp @interval~) ~"set"h( @p ~"+"h( @p #1~)~) ~"f"h( @n @p~)&)~)~) ~"set-delay"h( @exp @interval~)&)~) ~"bind"h( @fade-in-for-seconds &" nex duration-seconds"v( ~"use"h( @style~) ~"let"h( @fps %22~) ~"let"h( @delay-ms ~"to-integer"h( ~"/"h( %1000 @fps~)~)~) ~"let"h( @num-frames ~"*"h( ~"to-float"h( @duration-seconds~) @fps~)~) ~"let"h( @increment ~"/"h( %1 @num-frames~)~) ~"let"h( @val %0~) ~"do-on-every-for"h( &" n"v( ~"set"h( @val ~"+"h( @val @increment~)~) ~"jslog"h( @val~) ~"with-alpha-of"h( @n @val~)&) @nex @delay-ms @num-frames~)&)~) ~"fade-in-for-seconds"h( ( |(h)| |(e)| |(l)| |(l)| |(o)|) #1~) ~"bind"h( @fudge-interval &" interval"v( ~"to-integer"h( ~"*"h( ~"to-float"h( @interval~) ~"+"h( %.9 ~"*"h( %.2 ~"random"h(~)~)~)~)~)&)~) ~"bind"h( @random-color &""v( ~"string-cat"v( $"rgb(" ~"to-string"h( ~"random-from-to"h( #0 #255~)~) $"," ~"to-string"h( ~"random-from-to"h( #0 #255~)~) $"," ~"to-string"h( ~"random-from-to"h( #0 #255~)~) $")"~)&)~) ~"bind"h( @random-color-in-hsv-ranges &" huestart hueend satstart satend valstart valend"v( ~"string-cat"v( $"hsl(" ~"to-string"h( ~"*"h( %360 ~"random-from-to"h( @huestart @hueend~)~)~) $"," ~"to-string"h( ~"*"h( %100 ~"random-from-to"h( @satstart @satend~)~)~) $"%," ~"to-string"h( ~"*"h( %100 ~"random-from-to"h( @valstart @valend~)~)~) $"%)"~)&)~) ~"bind"h( @with-random-x-y &" nex width height"v( ~"use"h( @style~) ~"let"h( @x ~"random-from-to"h( #0 @width~)~) ~"let"h( @y ~"random-from-to"h( #0 @height~)~) ~"with-left-padding-of"h( ~"with-top-padding-of"h( @nex @y~) @x~)&)~) ~"bind"h( @random-from-to &" start end"v( ~"if"v( ~"or"h( ~"is-float"h( @start~) ~"is-float"h( @end~)~) ~"+"h( @start ~"*"h( ~"random"h(~) ~"-"h( @end @start~)~)~) ~"to-integer"h( ~"+"h( @start ~"*"h( ~"random"h(~) ~"-"h( @end @start~)~)~)~)~)&)~) ~"bind"h( @cycle-every &" list interval"v( ~"use"h( @util~) ~"let"h( @len ~"length-of"h( @list~)~) ~"do-with-param-on-every"h( &" n p"v( ~"let"h( @index ~"modulo"h( @p @len~)~) ~"select-nth-from-list"h( @index @list~)&) @list @interval~)&)~) ~"bind"h( @random-item-from &" lst"v( ~"use"h( @util~) ~"let"h( @length ~"length-of"h( @lst~)~) ~"let"h( @n ~"to-integer"h( ~"*"h( @length ~"random"h(~)~)~)~) ~"nth-from"h( @n @lst~)&)~)~)